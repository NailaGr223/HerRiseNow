{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container py-5">
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold" style="background: linear-gradient(90deg, #d946ef, #8b5cf6); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            Edit Your Profile, {{ user.username }} üíú
        </h1>
        <p class="lead text-muted">Make this space truly yours.</p>
    </div>

    <div class="card mx-auto shadow-lg" style="max-width: 700px; border-radius: 25px; background: linear-gradient(135deg, #f8f9ff, #ffffff);">
        <div class="card-body p-5">
            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-success text-center">{{ message }}</div>
                {% endfor %}
            {% endif %}

            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="text-center mb-4">
                    <img src="{% if form.instance.profile_picture %}{{ form.instance.profile_picture.url }}{% else %}{% static 'img/default-avatar.png' %}{% endif %}" 
                         alt="Profile" class="rounded-circle" width="150" height="150" style="object-fit: cover; border: 5px solid #d946ef;">
                    <div class="mt-3">
                        <label class="btn btn-purple btn-sm">
                            Change Photo <input type="file" name="profile_picture" style="display:none;">
                        </label>
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label fw-bold">Username</label>
                    <input type="text" class="form-control" value="{{ user.username }}" disabled>
                </div>

                <div class="mb-3">
                    {{ form.email.label_tag }}
                    {{ form.email }}
                </div>

                <div class="mb-3">
                    {{ form.full_name.label_tag }}
                    {{ form.full_name }}
                </div>

                <div class="mb-3">
                    {{ form.phone_number.label_tag }}
                    {{ form.phone_number }}
                </div>

                <div class="mb-4">
                    {{ form.bio.label_tag }}
                    {{ form.bio }}
                </div>

                <div class="text-center">
                    <button type="submit" class="btn btn-lg px-5 py-3" style="background: linear-gradient(135deg, #d946ef, #8b5cf6); color: white; border-radius: 50px; font-weight: bold;">
                        Save Changes
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div class="text-center mt-4">
        <a href="{% url 'dashboard' %}" class="text-purple">‚Üê Back to Dashboard</a>
    </div>
</div>
{% endblock %}